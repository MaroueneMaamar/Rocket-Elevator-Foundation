<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=, initial-scale=1.0">
    <title>GEOLOCATION</title>
    </head>
    <body>
        <br><br>
        <div class="container geo-container">

            
                <div id="map" style='width: 800px; height: 400px;'>

                    
                
                </div>
        </div>
        



    </body>
</html>

<script src="//maps.google.com/maps/api/js?key="></script>
<script src="//cdn.rawgit.com/mahnunchik/markerclustererplus/master/dist/markerclusterer.min.js"></script>
<script src='//cdn.rawgit.com/printercu/google-maps-utility-library-v3-read-only/master/infobox/src/infobox_packed.js' type='text/javascript'></script>
<%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>

<script>
    $(document).ready(function(){

            handler = Gmaps.build('Google');
            handler.buildMap({
                provider: {
                disableDefaultUI: true
                },
                internal: {
                id: 'map'
                }
            },
            function(){
                
                markers = handler.addMarkers([
                {
                    "lat": 46.0632019,
                    "lng": -70.9386751,
                    
                    "picture": {
                    "url": "http://people.mozilla.com/~faaborg/files/shiretoko/firefoxIcon/firefox-32.png",
                    "width":  32,
                    "height": 32
                    },
                    "infowindow": "hello!"
                }
                ]);
                handler.bounds.extendWith(markers);
                handler.fitMapToBounds();
            }
            );

            markers = handler.addMarkers(<%=raw @hash.to_json %>);

    })
    
</script>